<!DOCTYPE html>
<head>
	<title>Tetherplay</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">
	<link rel="stylesheet" href="style.css">
	<!--<link rel="stylesheet" href="dark.css">-->
	<!--<link rel="stylesheet" href="playstation.css">-->
	<script>
		const configuration = [
			{id: gp-ljoy, type: vec},
			{id: gp-west, type: bool},
			{id: gp-south, type: bool},
			{id: gp-ljoy, type: bool}
		]
	</script>
	<script src="websocket.js"></script>
	<script src="input.js"></script>
	<script>
var debug;
function showState() {
	debug.innerHTML = state.map( v => v.valueOf() )
}
	</script>
</head>
<body>
	<pre id="debug" class="display"> </pre>
	<div id="input">
		<div id="left">
			<table id="gp-ljoy" class="dpad cluster of-4">
				<tr>
					<td><button onload="setState(event, 0, [0,1])">▲</button></td>
					<td><button onload="setState(event, 0, [1,0])">►</button></td>
				</tr><tr>
					<td><button onload="setState(event, 0, [-1,0])">◄</button></td>
					<td><button onload="setState(event, 0, [0,-1])">▼</button></td>
				</tr>
			</table>
		</div>
		<div id="right">
			<table class="cluster of-2">
				<tr>
					<td><button id="gp-west" onload="setState(event, 1, true)"></button></td>
					<td><button id="gp-south" onload="setState(event, 2, true)"></button></td>
				</tr>
			</table>
			<button id="gp-start" class="small" onload="setState(event, 3, true)">start</button>
		</div>
	</div>
	<script>
debug = document.getElementById("debug");
document.addEventListener("touchstart", handlePressEvent)
document.addEventListener("mousedown", handlePressEvent)
document.addEventListener("mouseup", handleReleaseEvent)
document.addEventListener("touchend", handleReleaseEvent)
showState()
	</script>
</body>
